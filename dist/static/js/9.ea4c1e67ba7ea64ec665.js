webpackJsonp([9],{dE2u:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Zv1W"),i=n("cAgV"),l=(n("0xDb"),[{key:"CN",display_name:"China"},{key:"US",display_name:"USA"},{key:"JP",display_name:"Japan"},{key:"EU",display_name:"Eurozone"}].reduce(function(e,t){return e[t.key]=t.display_name,e},{})),s={name:"zoneManger",directives:{waves:i.a},data:function(){return{multipleSelection:[],tableKey:0,list:null,total:null,listLoading:!0,propgress:!1,percentage:0,listQuery:{page:1,pageSize:10,name:""},importanceOptions:[1,2,3],showReviewer:!1,temp:{importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},textMap:{update:"Edit",create:"Create"},rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},downloadLoading:!1}},filters:{statusFilter:function(e){return{published:"success",draft:"info",deleted:"danger"}[e]},typeFilter:function(e){return l[e]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(a.h)(this.listQuery).then(function(t){e.list=t.data.data.list,e.total=t.data.data.total,e.listLoading=!1})},handleFilter:function(){this.listQuery.page=1,this.getList()},handleSizeChange:function(e){this.listQuery.pageSize=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleSelectionChange:function(e){this.multipleSelection=e},handleModifyStatus:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.c)(e).then(function(e){t.getList(),t.$message({type:"success",message:"删除成功!"})})})},handleDeletMany:function(){var e=this;this.multipleSelection.length>0?this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.propgress=!0;for(var t=0;t<e.multipleSelection.length;t++)e.percentage=(t+1)/e.multipleSelection.length,t+1==e.multipleSelection.length?(e.propgress=!1,Object(a.c)(e.multipleSelection[t].id).then(function(t){e.getList(),e.$message({type:"success",message:"删除成功!"})})):Object(a.c)(e.multipleSelection[t].id).then(function(e){})}):this.$alert("请选择要删除的数据","消息提示",{confirmButtonText:"确定",type:"warning"})}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-form",{ref:"form"},[n("el-form-item",{attrs:{label:"地图名称:"}},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}}),e._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索\n        ")]),e._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-plus"}},[n("router-link",{attrs:{to:"/zoneManger/addZone"}},[e._v("添加地图样式")])],1),e._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"danger",loading:e.downloadLoading,icon:"el-icon-delete"},on:{click:e.handleDeletMany}},[e._v("删除\n        ")])],1)],1)],1),e._v(" "),n("P",{staticClass:"total"},[e._v("共搜索到"+e._s(e.total)+"条数据")]),e._v(" "),e.propgress?n("div",{staticClass:"propgress"},[n("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:e.percentage}})],1):e._e(),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{ref:"multipleTable",attrs:{type:"selection",width:"55"}}),e._v(" "),n("el-table-column",{attrs:{width:"150px",align:"center",label:"地图ICON"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.icon))])]}}])}),e._v(" "),n("el-table-column",{attrs:{width:"150px",label:"地图名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{width:"110px",align:"center",label:"地图类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.is_2d?"2D":"3D"))])]}}])}),e._v(" "),n("el-table-column",{attrs:{width:"110px",label:"默认地图等级",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.default_zoom))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"最小地图等级",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.min_zoom))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"最大地图等级",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.max_zoom))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"地图样式",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.style_id))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"上传时间","min-width":"110px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.create_time))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作",width:"200","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("router-link",{attrs:{to:{path:"/zoneManger/addZone",query:{id:t.row.id}}}},[n("el-button",{attrs:{type:"success",size:"mini"}},[e._v("编辑")])],1),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.handleModifyStatus(t.row.id)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{background:"","current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var o=n("VU/8")(s,r,!1,function(e){n("wwsP")},"data-v-28a890a4",null);t.default=o.exports},oj5k:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\np.total[data-v-28a890a4] {\n  font-size: 14px;\n  color: #999;\n  margin-bottom: 20px;\n}\n",""])},wwsP:function(e,t,n){var a=n("oj5k");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("458a2432",a,!0)}});