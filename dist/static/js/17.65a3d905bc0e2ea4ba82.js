webpackJsonp([17],{"v+SF":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("bOdI"),l=i.n(n),a=i("cAgV"),s=(i("0xDb"),{directives:{waves:a.a},data:function(){return l()({multipleSelection:[],list:null,total:null,listLoading:!1,listQuery:{page:1,pageSize:10,username:"",phone:""},showReviewer:!1},"list",[{rolename:"系统管理员",permission:"全部功能",role:"admin",update_time:(new Date).getTime()},{rolename:"系统管理员",permission:"全部功能",role:"admin",update_time:(new Date).getTime()},{rolename:"系统管理员",permission:"全部功能",role:"admin",update_time:(new Date).getTime()},{rolename:"系统管理员",permission:"全部功能",role:"admin",update_time:(new Date).getTime()},{rolename:"系统管理员",permission:"全部功能",role:"admin",update_time:(new Date).getTime()},{rolename:"系统管理员",permission:"全部功能",role:"admin",update_time:(new Date).getTime()}])},methods:{getList:function(){var e=this;this.listLoading=!0,fetchTitleList(this.listQuery).then(function(t){e.list=t.data.data.list,e.total=t.data.data.total,e.listLoading=!1})},handleSelectionChange:function(e){this.multipleSelection=e,console.log(this.multipleSelection)},handlerSearch:function(){this.listQuery.page=1,this.getList()},handleSizeChange:function(e){this.listQuery.pageSize=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleDeletMany:function(){var e=this;this.multipleSelection.length>0?this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.propgress=!0;for(var t=0;t<e.multipleSelection.length;t++)e.percentage=(t+1)/e.multipleSelection.length,t+1==e.multipleSelection.length?fetchTitleDelete(e.multipleSelection[t].fileid).then(function(t){e.getList(),e.$message({type:"success",message:"删除成功!"})}):fetchTitleDelete(e.multipleSelection[t].fileid).then(function(e){})}):this.$alert("请选择要删除的数据","消息提示",{confirmButtonText:"确定",type:"warning"})},handleModifyStatus:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){fetchTitleDelete(e).then(function(e){t.getList(),t.$message({type:"success",message:"删除成功!"})})})}},mounted:function(){}}),o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container role-manager"},[i("div",{staticClass:"filter-container"},[i("el-form",{ref:"form",attrs:{"label-position":"left",inline:!0}},[i("el-form-item",{attrs:{label:"角色名称:"}},[i("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入"},model:{value:e.listQuery.username,callback:function(t){e.$set(e.listQuery,"username",t)},expression:"listQuery.username"}})],1),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handlerSearch}},[e._v("搜索\n          ")]),e._v(" "),i("router-link",{attrs:{to:"/systemSetting/editRole"}},[i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-edit"}},[e._v("添加\n              ")])],1),e._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.handleDeletMany}},[e._v("删除\n          ")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{width:"200px",align:"center",label:"角色名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.rolename))])]}}])}),e._v(" "),i("el-table-column",{attrs:{"min-width":"150px",label:"功能权限",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.permission))])]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"300px",label:"更新时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e._f("parseTime")(t.row.update_time,"{y}-{m}-{d} {h}:{i}")))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"400","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(i){e.handleUpdate(t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){e.handleModifyStatus(t.row.fileid)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-container"},[i("el-pagination",{attrs:{background:"","current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]},r=i("VU/8")(s,o,!1,null,null,null);t.default=r.exports}});